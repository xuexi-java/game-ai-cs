测试类 vs 业务场景映射表
一、总体说明

每个测试类代表一种真实用户角色或系统行为

一个业务场景可被一个或多个测试类覆盖

核心业务场景必须被 至少一个主测试类 覆盖

二、映射总览表（核心）
业务场景	AuthUser	PlayerUser	AIMessageUser	WsUser	AdminUser
用户登录 / 鉴权	✅ 主	🔹 依赖	❌	❌	✅ 依赖
建立会话 / 初始化	❌	✅ 主	❌	🔹 依赖	❌
发送咨询消息	❌	✅ 主	✅ 主	❌	❌
AI 消息处理	❌	🔹 参与	✅ 主	❌	❌
接收 AI 回复	❌	✅ 主	🔹 参与	✅ 主	❌
WebSocket 连接	❌	🔹 依赖	❌	✅ 主	❌
心跳 / 保活	❌	❌	❌	✅ 主	❌
会话 / 工单查询	❌	🔹 参与	❌	❌	✅ 主
会话 / 工单状态更新	❌	❌	❌	❌	✅ 主
管理端登录	❌	❌	❌	❌	✅ 主
高并发核心链路	❌	✅ 主	✅ 主	🔹 辅助	❌
长连接稳定性	❌	❌	❌	✅ 主	❌
三、测试类职责边界说明（防止职责混乱）
🧩 AuthUser（鉴权用户类）

只负责：登录、token 获取、刷新

❌ 不参与任何业务操作

作用：提供性能基线 & 其他测试类前置条件

🧩 PlayerUser（玩家业务流用户类）

主链路承担者

覆盖完整玩家使用路径

真实比例最高

性能 & 压力测试核心用户

🧩 AIMessageUser（AI 消息用户类）

只做一件事：高并发消息请求

不维护复杂状态

专门用于放大 AI/下游瓶颈

🧩 WsUser（WebSocket 用户类）

不压接口吞吐

只维持连接、接收推送

重点观察：连接数、内存、FD、心跳

🧩 AdminUser（管理端用户类）

模拟后台真实操作

并发小，但查询重

验证前台流量对后台的影响

四、典型测试组合示例（实战可用）
1️⃣ 性能测试（稳态）
PlayerUser + WsUser + 少量 AdminUser


目标：验证核心业务是否达标

2️⃣ 压力测试（找极限）
PlayerUser + AIMessageUser + WsUser


目标：找到系统拐点

3️⃣ AI 专项测试
AIMessageUser（高占比）


目标：定位 AI 延迟与失败点

4️⃣ 长连接专项测试
WsUser（大规模）


目标：最大在线用户数

五、评审用一句话总结

通过 5 类测试用户，覆盖核心业务链路、高并发请求、AI 处理与长连接场景，确保性能测试与压力测试结果具有真实性与指导意义。