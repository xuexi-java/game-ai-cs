# ==================== Docker Compose 环境变量配置 ====================
# 此文件用于 docker-compose.yml 读取环境变量
# 复制此文件为 .env 并根据实际情况修改配置

# 百度翻译 API 配置
BAIDU_TRANSLATE_APP_ID=your-baidu-app-id
BAIDU_TRANSLATE_SECRET=your-baidu-secret

# Dify AI 话术优化配置（必须配置，否则AI优化功能无法使用）
DIFY_API_KEY=your-dify-api-key
DIFY_BASE_URL=https://api.dify.ai/v1
REDIS_URL=redis://localhost:22102

# Cache
CACHE_ENABLED=true
CACHE_JITTER_PCT=0.1
CACHE_CONFIG_TTL_SECONDS=900
CACHE_QUICK_REPLY_TTL_SECONDS=60
DASHBOARD_CACHE_TTL_SECONDS=60
DASHBOARD_SNAPSHOT_TTL_SECONDS=300
DASHBOARD_DEGRADED_TTL_SECONDS=300
DASHBOARD_DEGRADE_EVENT_LOOP_MS=200
DASHBOARD_DEGRADE_CPU_LOAD_RATIO=1.2
DASHBOARD_DEGRADE_QUERY_MS=1500
DASHBOARD_DEGRADED=false

# JWT 配置
JWT_SECRET=your-secret-key-change-in-production
JWT_EXPIRES_IN=8h

# 加密密钥（必须是32字符）
ENCRYPTION_SECRET_KEY=your-32-character-secret-key-here!!

# 数据库连接池配置（可选，使用默认值）
# DB_CONNECTION_LIMIT=50
# DB_POOL_TIMEOUT=20
# DB_CONNECT_TIMEOUT=10
# DB_QUERY_TIMEOUT=30
# DB_STATEMENT_TIMEOUT=30000
# DB_IDLE_TIMEOUT=600
# DB_POOL_MONITORING=true
# DB_POOL_LOG_LEVEL=warn

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_TIMEZONE_OFFSET=480
LOG_SUCCESS_REQUESTS=false
LOG_SAMPLING_RATE=0.1
LOG_STDOUT=true
LOG_FILE=true
LOG_IGNORE_PATHS=/api/v1/metrics,/api/v1/docs,/uploads
METRICS_KEY=change-me
LOG_BATCH_SIZE=200
LOG_BATCH_INTERVAL=300
LOG_MAX_QUEUE_SIZE=20000
LOG_USE_REDIS_BUFFER=false
LOG_REDIS_MAX_SIZE=20000
LOG_CONSUMER_BATCH_SIZE=500
LOG_CONSUMER_POLL_INTERVAL=500
LOKI_ENDPOINT=http://loki:3100
